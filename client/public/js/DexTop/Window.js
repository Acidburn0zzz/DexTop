// Generated by CoffeeScript 1.7.1
(function() {
  var Window;

  Window = (function() {
    Window.prototype.x = 0;

    Window.prototype.y = 0;

    Window.prototype.width = 0;

    Window.prototype.height = 0;

    Window.prototype.title = '';

    Window.prototype.canvas = 0;

    Window.prototype.borderSize = 5;

    Window.prototype.titleHeight = 20;

    function Window(params) {
      var name, param;
      console.log('Window ctor');
      for (name in params) {
        param = params[name];
        if (this[name] != null) {
          this[name] = param;
        }
      }
      this.winBack = new fabric.Rect({
        fill: '#777777',
        width: this.width,
        height: this.height
      });
      this.winFront = new fabric.Rect({
        left: this.borderSize,
        top: this.titleHeight,
        fill: '#888888',
        width: this.width - this.borderSize * 2,
        height: this.height - this.borderSize - this.titleHeight,
        originX: 'left',
        originY: 'top'
      });
      this.win = new fabric.Group([this.winBack, this.winFront], {
        left: this.x,
        top: this.y,
        width: this.width,
        height: this.height,
        hasBorders: false,
        centeredScaling: false
      });
      this.win.on('scaling', (function(_this) {
        return function(event) {
          console.log;
          _this.win.width = _this.win.getWidth() * _this.win.getScaleX();
          _this.win.height = _this.win.getHeight() * _this.win.getScaleY();
          _this.win.scaleX = 1;
          return _this.win.scaleY = 1;
        };
      })(this));
      this.canvas.add(this.win);
    }

    return Window;

  })();

}).call(this);
